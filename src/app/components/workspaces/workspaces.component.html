<app-header></app-header>
<div class="workspaces-header py-3 px-3 my-0 bg-light d-flex flex-row justify-content-between align-items-center">
    <h4 class="">{{"WORKSPACES.HEADER" | translate}}</h4>
    <button class="btn btn-primary" (click)="openNewWorkspaceDialog()">
        <fa-icon [icon]="faPlus"></fa-icon>
        {{"WORKSPACES.ADD_WORKSPACE" | translate}}</button>
</div>

<div class="row col-12 p-auto px-3 d-flex flex-row m-0">
    <div class="workspace-properties-container col-sm-5 d-flex flex-column justify-content-between align-items-center">
        <div class="workspaces-container overflow-auto">
            <ul class="list-group">
                <app-workspace-list-item *ngFor="let workspace of workspaces" [workspace]="workspace"
                    (activeWorkspace)="onShowWorkspace($event)" (deletedWorkspace)="onDeleteWorkspace($event)">
                </app-workspace-list-item>
            </ul>
        </div>
        <div class="properties-container border mt-3 overflow-auto">
            <h4>{{"WORKSPACES.PROPERTIES" | translate}}</h4>
            <div class="px-3 d-inline-block" *ngIf="activeWorkspace">
                <div class="d-flex flex-row justify-content-between">
                    <p><strong>{{"WORKSPACES.PROPERTIES_OWNER" | translate}}: </strong>{{activeWorkspace.userId}}</p>
                    <p><strong>{{"WORKSPACES.PROPERTIES_CLOUD" | translate}}: </strong>
                        {{activeWorkspace.cloudProvider}}</p>
                </div>
                <p><strong>{{"WORKSPACES.PROPERTIES_NODE_CODE" | translate}}:</strong>{{activeWorkspace.nodeCode}}</p>
                <p><strong>{{"WORKSPACES.PROPERTIES_PRODUCTS" | translate}}</strong></p>
                <p><strong>{{"WORKSPACES.PROPERTIES_NAME" | translate}}: </strong>{{activeWorkspace.name}}</p>
                <p><strong>{{"WORKSPACES.PROPERTIES_WORKSPACE_ID" | translate}}: </strong>
                    {{activeWorkspace.workspaceId}}</p>
                <p><strong>{{"WORKSPACES.PROPERTIES_PROCESSES_EXECUTED" | translate}}:
                    </strong>{{activeWorkspace.processesCount}}</p>
                <strong>{{"WORKSPACES.PROPERTIES_SHARED" | translate}}: </strong>
                <ul>
                    <li *ngFor="let user of activeWorkspace.sharedUsers">{{ user }}</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="workspace-globe-container col-7">
        <div style="height:80vh;" id="CesiumContainer3"></div>
        <div class="toolbar-right-bottom" style="z-index: 999; display: block;
        position: absolute;
        right: 40px;
        bottom: 10px;">
            <div class="checkbox" style="background: white; padding: 5px">
                <label>
                    <input type="checkbox" ng-model="value" ng-init="value = true"
                        ng-click="m_oController.deleteSentinel1a(value)" />
                    Show Satellites
                </label>
            </div>
            <div class="btn-group" role="group" aria-label="...">
                <button type="button" class="btn btn-success" (click)="stopGlobeRotation()">
                    <fa-icon [icon]="faStop"></fa-icon>
                </button>
                <button type="button" class="btn btn-success" (click)="startGlobeRotation()">
                    <fa-icon [icon]="faPlay"></fa-icon>
                </button>
            </div>
        </div>
        <!-- <app-workspaces-worldwind></app-workspaces-worldwind> -->
    </div>
</div>