<main class="d-flex flex-column flex-fill">
    <div class="d-flex flex-row justify-content-end">
        <button *ngIf="m_sTypeOfFilterSelected === 'Time period'" (click)="searchAllSelectedProviders()"
            class="btn btn-secondary">Search</button>
        <button *ngIf="m_sTypeOfFilterSelected === 'Time series'" (click)=" searchListAllSelectedProviders()"
            class="btn btn-secondary">Search List</button>
        <button (click)="openAddToWorkspaceDialog()" class="btn btn-secondary"
            [disabled]="m_aoSelectedProducts.length < 1">
            <fa-icon [icon]="faPlus"></fa-icon>
            Add Selected to Workspace</button>
    </div>
    <div class="d-flex flex-row" style="height: 88%; width: 100%;">
        <app-search-filters [hidden]="m_bIsVisibleListOfLayers === true" [m_aoMissions]="m_aoMissions"
            [m_aoSelectedProviders]="m_aoSelectedProviders" (m_oSearchFilter)="getMissionFilter($event)"
            (m_aoProviderSelection)="getSelectedProviders($event)" (m_oTypeOfFilterSelected)="getTimeFilter($event)"
            (m_oAdvancedFilterSelection)="getAdvancedFilterSelection($event)"></app-search-filters>
        <app-products-table [hidden]="m_bIsVisibleListOfLayers === false" [m_aoProducts]="m_oProductSubject.asObservable()"
            [m_aoSelectedProviders]="m_oSelectedProvidersSubject.asObservable()"
            [m_bIsPaginatedList]="m_bIsPaginatedList" [m_bIsVisibleListOfLayers]="m_bIsVisibleListOfLayers"
            (m_oNavigateBackOutput)="getNavigationFilters($event)" (m_oActiveProviderChange)="getActiveProvider($event)"
            (m_oSelectedProducts)="getSelectedProducts($event)"></app-products-table>
        <div class="map map-container flex-fill">
            <app-search-map [m_aoProducts]="m_oProductSubject.asObservable()"
                (m_oMapInputChange)="getMapInput($event)"></app-search-map>
        </div>
        <!-- <div class="map-controls">
            <div class="top-controls">
                <img
                    src="./assets/map-control-1.svg"
                    alt="map control 1"
                />
                <img
                    src="./assets/map-control-2.svg"
                    alt="map control 2"
                />
                <img
                    src="./assets/map-control-3.svg"
                    alt="map control 3"
                />
                <img
                    src="./assets/map-control-4.svg"
                    alt="map control 4"
                />
                <img
                    src="./assets/map-control-5.svg"
                    alt="map control 5"
                />
                <img
                    src="./assets/map-control-6.svg"
                    alt="map control 6"
                />
            </div>
            <div class="bot-controls">
                <div class="zoom">
                    <img
                        src="./assets/map-control-7.svg"
                        alt="map control 7"
                    />
                    <img
                        src="./assets/map-control-8.svg"
                        alt="map control 8"
                    />
                </div>
                <img
                    src="./assets/map-control-9.svg"
                    alt="map control 9"
                />
                <img
                    src="./assets/map-control-10.svg"
                    alt="map control 10"
                />
            </div>
        </div> -->
    </div>
    <div style="height: 8%;">
        <app-processes-bar [m_oActiveWorkspace]="m_oActiveWorkspace"></app-processes-bar>

    </div>
</main>

<!-- Operation Bar
<div class="d-flex flex-row gap-2 justify-content-end align-items-center px-4 py-2">
    <button *ngIf="m_sTypeOfFilterSelected === 'Time period'" (click)="searchAllSelectedProviders()"
        class="btn btn-secondary">Search</button>
    <button *ngIf="m_sTypeOfFilterSelected === 'Time series'" (click)=" searchListAllSelectedProviders()"
        class="btn btn-secondary">Search List</button>
    <button (click)="openAddToWorkspaceDialog()" class="btn btn-secondary" [disabled]="m_aoSelectedProducts.length < 1">
        <fa-icon [icon]="faPlus"></fa-icon>
        Add Selected to Workspace</button>
</div>
<div class="d-flex flex-row gap-3 px-4 pt-2" style="height: 75%;">
    <div class="products-table" style="width: 40%;"  *ngIf="m_bIsVisibleListOfLayers === true">
        <app-products-table [m_aoProducts]="m_oProductSubject.asObservable()"
            [m_aoSelectedProviders]="m_oSelectedProvidersSubject.asObservable()"
            [m_bIsPaginatedList]="m_bIsPaginatedList" [m_bIsVisibleListOfLayers]="m_bIsVisibleListOfLayers"
            (m_oNavigateBackOutput)="getNavigationFilters($event)" (m_oActiveProviderChange)="getActiveProvider($event)"
            (m_oSelectedProducts)="getSelectedProducts($event)"></app-products-table>
    </div>
    <div class="filters-panel" style="width: 40%;" [hidden]="m_bIsVisibleListOfLayers === true">
        <app-search-filters [m_aoMissions]="m_aoMissions" [m_aoSelectedProviders]="m_aoSelectedProviders"
            (m_oSearchFilter)="getMissionFilter($event)" (m_aoProviderSelection)="getSelectedProviders($event)"
            (m_oTypeOfFilterSelected)="getTimeFilter($event)"
            (m_oAdvancedFilterSelection)="getAdvancedFilterSelection($event)"></app-search-filters>
    </div>
    <div class="map" style="width: 60%;">
        <app-search-map [m_aoProducts]="m_oProductSubject.asObservable()"
            (m_oMapInputChange)="getMapInput($event)"></app-search-map>
    </div>
</div> -->