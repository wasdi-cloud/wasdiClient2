<section class="sub-menu">
    <article class="sub-menu-grp">
        <div class="title">
            <img src="./assets/svg/filter-icon.svg" alt="filter icon" />
            <h3>{{"IMPORT_PANEL_HEAD_TITLE_FILTERS" | translate}}</h3>
        </div>

        <div class="sub-menu-body">
            <button (click)="openAdvancedSearchFiltersDialog()">
                <img src="./assets/svg/cron-icon.svg" alt="cron tab icon" />
                {{"IMPORT_CRONTAB" | translate}}
            </button>
            <li class="search-input-container">
                <div class="background-color">
                    <img src="./assets/svg/search-icon.svg" alt="search icon" />
                    <label for="search-bar">Search</label>
                </div>
                <input class="search-input" type="text" id="search-bar" name="search-bar" placeholder="Products name"
                    [(ngModel)]="m_oMissionObject.textQuery" />
            </li>
        </div>
        <hr />
    </article>
    <article class="provider">
        <label for="wasdi">Provider:</label>
        <mat-select class="name-select" multiple placeholder="{{'IMPORT_PROVIDERS' | translate}}"
            [(ngModel)]=" m_aoUserProviderSelection" (selectionChange)="emitSelectedProviders($event)">
            <mat-option *ngFor="let oProvider of m_aoListOfProviders" [value]="oProvider">
                {{oProvider.description}}
            </mat-option>
        </mat-select>
        <div class="date" *ngIf="m_sTypeOfFilterSelected === 'Time period'">

            <div>
                <label for="startDate">{{'IMPORT_DATE_FROM'|translate}}</label>
                <input class="date-select" style="width: 150px" type="date" name="" id="" class="form-control"
                    [(ngModel)]="m_sDateFrom" (ngModelChange)="emitModelChanges()">
            </div>
            <div>
                <label for="startDate">{{'IMPORT_DATE_TO'|translate}}</label>
                <input class="date-select" style="width: 150px" type="date" name="" id="" class="form-control"
                    [(ngModel)]="m_sDateTo" (ngModelChange)="emitModelChanges()">
            </div>
        </div>
        <hr />
    </article>
    <article class="sub-menu-grp mission">
        <!-- <div class="mission-inputs d-flex flex-row flex-wrap align-items-center pt-2 gap-2 ">
            <div class="d-flex flex-column " *ngFor="let oFilter of m_aoVisibleFilters">
                <div style="width: 15rem">
                    <label class="form-label" for="">{{oFilter.indexlabel}}</label>
                    <mat-select *ngIf="oFilter.indexvalues !== ''" #auto="matSelect" class="form-control"
                        placeholder="" (selectionChange)="getMissionInput($event, oFilter)"
                        placeholder="{{oFilter.indexvalue}}">
                        <mat-option *ngFor="let oOption of prepMissionFilter(oFilter)" [value]="oOption">
                            {{oOption}}
                        </mat-option>
                    </mat-select>
                    <input class="form-control" type="text" *ngIf="oFilter.indexvalues === ''"
                        placeholder="{{oFilter.indexhint}}" pattern="{{oFilter.regex}}">
                </div>
            </div>
        </div> -->
        <div>
            <label for="">{{"IMPORT_PRODUCT_SELECTED_MISSIONS"|translate}}</label>
            <div class="category-body">
                <button *ngFor="let oMission of m_aoMissions" (click)="setActiveMission(oMission)"
                    [ngClass]="oMission.name === m_oActiveMission.name? 'selected' : ''">
                    {{oMission.name}}
                </button>
            </div>
        </div>
        <hr />
    </article>
    <article class="">
        <div class=" d-flex flex-row flex-wrap align-items-center pt-2 gap-2">
            <div class="mission-inputs d-flex flex-row flex-wrap align-items-center pt-2 gap-2 ">
                <div *ngFor="let oFilter of m_aoVisibleFilters">
                    <div *ngIf="m_oActiveMission.name !== 'ERA5'" style="width: 15rem">
                        <label for="">{{oFilter.indexlabel}}</label>
                        <mat-select class="input" *ngIf="oFilter.indexvalues !== ''" #auto="matSelect" placeholder=""
                            (selectionChange)="getMissionInput($event, oFilter)" placeholder="{{oFilter.indexvalue}}">
                            <mat-option *ngFor="let oOption of prepMissionFilter(oFilter)" [value]="oOption">
                                {{oOption}}
                            </mat-option>
                        </mat-select>
                        <input class="input" type="text" *ngIf="oFilter.indexvalues === ''"
                            placeholder="{{oFilter.indexhint}}" pattern="{{oFilter.regex}}">
                    </div>
                    <div *ngIf="m_oActiveMission.name === 'ERA5'" style="width: 15rem">
                        <label for="">{{oFilter.indexlabel}}</label>
                        <mat-select
                            *ngIf="oFilter.indexvalues !== '' && oFilter.indexname !== 'pressureLevels' && oFilter.indexname !== 'variables'"
                            #auto="matSelect" class="input" placeholder=""
                            (selectionChange)="getMissionInput($event, oFilter)" placeholder="{{oFilter.indexvalue}}">
                            <mat-option *ngFor="let oOption of prepMissionFilter(oFilter)" [value]="oOption">
                                {{oOption}}
                            </mat-option>
                        </mat-select>
                        <input class="finput" type="text"
                            *ngIf="oFilter.indexvalues === '' && oFilter.indexname !== 'pressureLevels' && oFilter.indexname !== 'variables'"
                            placeholder="{{oFilter.indexhint}}" pattern="{{oFilter.regex}}">
                        <mat-select *ngIf="oFilter.indexname === 'pressureLevels' || oFilter.indexname ==='variables'"
                            multiple class="input" #auto="matSelect"
                            (selectionChange)="getMultiSelectInput($event, oFilter)"
                            placeholder="{{oFilter.indexvalue}}">
                            <mat-option *ngFor="let oOption of prepMissionFilter(oFilter)"
                                [value]="oOption">{{oOption}}</mat-option>
                        </mat-select>
                    </div>
                </div>
            </div>
        </div>
    </article>
</section>