<h3 class="products-header bg-dark text-light">Products</h3>
<div class="products-container d-flex flex-column gap-3">
    <div *ngIf="productArray === undefined || productArray.length === 0">
        <p>No Products</p>
    </div>
    <div *ngIf="productArray">
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
            <mat-nested-tree-node *matTreeNodeDef="let node" togg>
                <li>
                    <div class="mat-tree-node">
                        <button class="btn" mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name"
                            *ngIf="node.bandsGroups.bands === null">
                            <mat-icon class="mat-icon-rtl-mirror" *ngIf="node.bandsGroups" style="cursor: not-allowed" >
                                {{'chevron_right'}}
                            </mat-icon>
                        </button>
                        <mat-checkbox color="success"></mat-checkbox>
                        {{node.name}}
                    </div>
                </li>
            </mat-nested-tree-node>
            <mat-nested-tree-node *matTreeNodeDef="let node when: hasChild">
                <li class="tree-container">
                    <div class="mat-tree-node">
                        <button class="btn" mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name"
                            *ngIf="node.bandsGroups">
                            <mat-icon class="mat-icon-rtl-mirror" *ngIf="node.bandsGroups">
                                {{treeControl.isExpanded(node) ? 'expand_more': 'chevron_right'}}
                            </mat-icon>
                        </button>
                        <mat-checkbox color="success"></mat-checkbox>
                        {{node.name}}
                    </div>
                    <ul class="tree-nested-node">
                        <div [class.tree-invisible]="!treeControl.isExpanded(node)" role="group">
                            <ng-container matTreeNodeOutlet></ng-container>
                        </div>
                    </ul>
                </li>
            </mat-nested-tree-node>
        </mat-tree>
    </div>
</div>