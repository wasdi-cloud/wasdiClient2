<div class="apps-dialog">
  <div class="dialog-header d-flex flex-row justify-content-between align-items-center font-bold pb-2">
    {{ "PRINT_DIALOG_ACTION" | translate }}
    <span class="close-btn material-symbols-outlined" (click)="onDismiss()"> close</span>
  </div>
  <div *ngIf="!m_bIsLoading" class="body flex-fill d-flex flex-column">
    <p class="mb-3">{{ "SELECT_PRINT_FORMAT" | translate }}</p>
    <!--    <p class="mb-3">Please select the print format</p>-->
    <div class="d-flex align-items-center gap-2 mb-3">
      <label for="optional-toggle" class="form-label mb-0">{{"ADD_TITLE_AND_DESCRIPTION" | translate}}</label>
      <span
        (click)="m_bShowOptionalInputs = !m_bShowOptionalInputs"
        [ngClass]="{'active': m_bShowOptionalInputs}"
        class="toggle-switch">
      </span>
    </div>

    <div *ngIf="m_bShowOptionalInputs">
      <app-input-field
        [m_sLabel]="'PRINT_PAYLOAD_TITLE' | translate"
        [m_sInputValue]="m_sPrintPayloadTitle"
        (m_oInputChange)="getInput($event,'title')"
        class="mb-3"
      >

      </app-input-field>
      <app-input-field
        [m_sLabel]="'PRINT_PAYLOAD_DESCRIPTION' | translate"
        [m_sInputValue]="m_sPrintPayloadDescription"
        (m_oInputChange)="getInput($event,'description')"
        class="mb-3"
      >

      </app-input-field>
    </div>

    <div class="format-group">

      <div class="format-selection-container d-flex flex-row gap-3 justify-content-center mb-4">
        <div
          class="format-option d-flex flex-column align-items-center justify-content-center p-3"
          [class.active]="m_sSelectedFormat === 'pdf'"
          (click)="selectFormat('pdf')"
          title="{{ 'PRINT_FORMAT_PDF' | translate }}"
        >
          <span class="material-symbols-outlined format-icon">picture_as_pdf</span>
          <span class="format-label">PDF</span>
        </div>

        <div
          class="format-option d-flex flex-column align-items-center justify-content-center p-3"
          [class.active]="m_sSelectedFormat === 'png'"
          (click)="selectFormat('png')"
          title="{{ 'PRINT_FORMAT_PNG' | translate }}"
        >
          <span class="material-symbols-outlined format-icon">image</span>
          <span class="format-label">PNG</span>
        </div>
      </div>
    </div>

    <app-button
      (click)="confirmPrinting()"
      [m_sLabel]="'PRINT_DIALOG_ACTION'| translate "
      class="align-self-end mt-3"
    ></app-button>
  </div>

  <div  *ngIf="m_bIsLoading">
    <span>{{ "PRINT_WAIT" | translate }}</span>
    <app-invader></app-invader>
    <!--    <span>{{ "LAYER_ANALYZER.WAIT" | translate }}</span>-->
  </div>
</div>
